# 项目进度初始化基线（2026-02-06）

## 目标

基于当前仓库实际状态，建立统一的项目起点，避免“文档阶段”和“实现阶段”认知错位。

## 当前实现基线

- 服务工程：`src/VoiceAgent.AsrMvp`
- 测试工程：`src/VoiceAgent.AsrMvp.Tests`
- 方案文档：`docs/`
- 参考代码：`referense-code/`（参考用途）

## 已完成能力（MVP）

- WebSocket 流式语音输入：`/ws/stt`
- 处理链路：音频解码 -> 预处理 -> 音频分类 -> 质量检查 -> VAD -> endpointing
- `stt.partial` / `stt.final` 输出
- 文本后处理（规范化、标点）
- two-pass 定稿能力（可开关）
- Agent 响应事件
- TTS 事件和音频块输出
- 健康与指标接口：`/healthz`、`/metrics`

## 进行中重点

- 真实链路稳定性：FunASR / ManySpeech / SenseVoice / Kokoro 联调
- 端到端时延和回撤体验优化
- 测试分层完善（单测、集成、真实环境回归）

## 初始化后建议工作方式

1. 需求变更优先更新 `docs/` 中对应方案与验收项。
2. 实现变更同步更新 `src/VoiceAgent.AsrMvp/README.md` 的运行参数与示例。
3. 行为预期变化时同步更新 `docs/08_ASR验收检查清单.md`。

## 最小验证命令

```bash
dotnet build src/voice-agent.sln
dotnet test src/VoiceAgent.AsrMvp.Tests/VoiceAgent.AsrMvp.Tests.csproj
```

如果运行真实集成测试，请先配置 `src/VoiceAgent.AsrMvp.Tests/real-integration.settings.json`（由 `.example` 复制并填写）。
